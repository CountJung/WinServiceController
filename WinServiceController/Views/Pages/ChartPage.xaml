<Page
  x:Class="WinServiceController.Views.Pages.ChartPage"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:WinServiceController.Views.Pages"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
  Title="ChartPage"
  d:DataContext="{d:DesignInstance local:ChartPage,
                                     IsDesignTimeCreatable=False}"
  d:DesignHeight="600"
  d:DesignWidth="900"
  ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
  ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
  Foreground="{DynamicResource TextFillColorPrimaryBrush}"
  mc:Ignorable="d"
>
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>

    <!-- Header -->
    <TextBlock
      Grid.Row="0"
      FontSize="24"
      FontWeight="SemiBold"
      Text="Resource Monitor"
    />

    <!-- Controls -->
    <Grid Grid.Row="1" Margin="0,16,0,8">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
      </Grid.ColumnDefinitions>

      <ui:TextBox
        Grid.Column="0"
        PlaceholderText="Service name to monitor..."
        Text="{Binding ViewModel.TargetServiceName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
      />

      <ui:Button
        Grid.Column="1"
        Margin="8,0,0,0"
        Command="{Binding ViewModel.ToggleMonitoringCommand, Mode=OneWay}"
        Content="{Binding ViewModel.ToggleButtonText, Mode=OneWay}"
      />

      <ui:Button
        Grid.Column="2"
        Margin="8,0,0,0"
        Appearance="Transparent"
        Command="{Binding ViewModel.ClearChartCommand, Mode=OneWay}"
        Icon="{ui:SymbolIcon Delete24}"
        ToolTip="Clear"
      />

      <StackPanel Grid.Column="3" Margin="16,0,0,0" VerticalAlignment="Center">
        <TextBlock FontSize="11" Opacity="0.6" Text="CPU" />
        <TextBlock FontSize="14" FontWeight="SemiBold" Text="{Binding ViewModel.LastCpu, Mode=OneWay}" />
      </StackPanel>

      <StackPanel Grid.Column="4" Margin="16,0,0,0" VerticalAlignment="Center">
        <TextBlock FontSize="11" Opacity="0.6" Text="Memory" />
        <TextBlock FontSize="14" FontWeight="SemiBold" Text="{Binding ViewModel.LastMemory, Mode=OneWay}" />
      </StackPanel>
    </Grid>

    <!-- CPU Chart (created in code-behind) -->
    <Border x:Name="CpuChartHost" Grid.Row="2" Margin="0,8,0,4" />

    <!-- Memory Chart (created in code-behind) -->
    <Border x:Name="MemoryChartHost" Grid.Row="3" Margin="0,4,0,0" />
  </Grid>
</Page>
